# AI 건설안전 전문가 챗봇 UI 개발 계획서

## 1. 프로젝트 개요

### 프로젝트 기본 정보
- **프로젝트명**: AI 건설안전 전문가 챗봇 UI 개발
- **프로젝트 목표**: 건설 현장의 작업 공정별 위험 요인과 안전 대책을 안내하는 AI 챗봇의 사용자 인터페이스(UI)를 개발. 직관적이고 안정적인 UI를 제공하여 사용자가 쉽고 빠르게 필요한 정보를 얻을 수 있도록 함.
- **개발 기간**: 총 1.5주 ~ 2주 (10-14일)
- **대상 사용자**: 건설 현장 작업자, 안전 관리자, 현장 감독자

### 기술 스택
- **AI 코드 생성**: Cursor AI
- **프론트엔드**: Vue.js 3, Nuxt 3, Vuetify 3
- **백엔드 연동**: n8n (Webhook 방식)
- **상태 관리**: Pinia (Vue 3 권장)
- **HTTP 클라이언트**: Nuxt의 내장 `$fetch` 또는 `useFetch`
- **아이콘**: Material Design Icons (MDI)
- **스타일링**: SCSS/CSS3

## 2. 상세 요구사항

### 2.1 UI/UX 요구사항
#### 레이아웃 구조
```
┌─────────────────────────────────────┐
│ 헤더 (타이틀, 창 제어 버튼)            │
├─────────────────────────────────────┤
│                                     │
│ 대화 내용 표시창                      │
│ - 사용자 메시지 (우측 정렬)            │
│ - AI 응답 메시지 (좌측 정렬)           │
│ - 자동 스크롤 기능                    │
│                                     │
├─────────────────────────────────────┤
│ 입력창 + 전송버튼 + 음성인식 버튼       │
└─────────────────────────────────────┘
```

#### 색상 팔레트
- **헤더 배경**: #FF5722 (Deep Orange)
- **사용자 메시지 박스**: #E3F2FD (Light Blue)
- **AI 메시지 박스**: #F5F5F5 (Light Grey)
- **액센트 컬러**: #FF5722 (Deep Orange)
- **텍스트 컬러**: #212121 (Dark Grey)

### 2.2 기능 요구사항
#### 핵심 기능
1. **메시지 송수신**
   - 사용자 입력 (텍스트)
   - AI 응답 수신 및 표시
   - 실시간 타이핑 애니메이션

2. **사용자 편의 기능**
   - 메시지 복사 기능
   - 대화 내용 저장 (LocalStorage)
   - 음성인식 버튼 (연동 준비)
   - 창 최소화/최대화/닫기

3. **UX 개선 기능**
   - 로딩 인디케이터
   - 에러 핸들링 및 사용자 피드백
   - 자동 스크롤 및 스크롤 위치 기억

### 2.3 API 연동 스펙
#### n8n Webhook 연동
```javascript
// 요청 형식
POST /webhook/construction-safety-chat
{
  "message": "철근 작업 시 안전 장비는 무엇인가요?",
  "timestamp": "2024-01-15T10:30:00Z",
  "sessionId": "uuid-session-id"
}

// 응답 형식
{
  "response": "철근 작업 시 필요한 안전 장비는...",
  "timestamp": "2024-01-15T10:30:05Z",
  "sessionId": "uuid-session-id",
  "status": "success"
}
```

## 3. 개발 단계 및 일정

### 3.1 1단계: 프로젝트 초기 설정 (1일) ✅ 완료
#### 개발 환경 구성
- [x] Nuxt 3 프로젝트 생성
- [x] Vuetify 3 설치 및 설정
- [x] Pinia 상태 관리 설정
- [x] 기본 폴더 구조 생성
- [x] ESLint, Prettier 설정

#### Cursor AI 프롬프트 준비
```
프로젝트 컨텍스트:
- Vue 3 + Nuxt 3 + Vuetify 3
- 건설안전 전문가 챗봇 UI
- 데스크톱 우선 반응형 디자인
- Material Design 가이드라인 준수
```

### 3.2 2단계: 기본 UI 컴포넌트 개발 (2일) ✅ 완료
#### 채팅 인터페이스 구현
- [x] 채팅창 기본 레이아웃 구현
- [x] 메시지 송수신 UI 구현
- [x] 헤더 및 입력창 컴포넌트 구현
- [x] 반응형 디자인 적용

#### 채팅 기능 구현
- [x] 메시지 전송 기능
- [x] 메시지 표시 기능
- [x] 자동 스크롤 기능
- [x] 메시지 복사 기능

### 3.3 3단계: 다중 채팅 서비스 구현 (3일) ✅ 완료
#### 4개 채팅 서비스 구현
- [x] 건설안전 A.I (ChatLayer.vue)
- [x] 위험성평가 A.I (RiskChatLayer.vue)
- [x] 세금계산서 A.I (TaxChatLayer.vue)
- [x] 현장개통/해지 A.I (SiteChatLayer.vue)

#### 플로팅 메뉴 구현
- [x] 우하단 플로팅 메뉴 구현
- [x] 채팅 서비스 선택 기능
- [x] 메뉴 최소화/확장 기능

### 3.4 4단계: 최소화 기능 및 레이아웃 최적화 (2일) ✅ 완료
#### 최소화 버튼 시스템 구현
- [x] 4개 슬롯 기반 최소화 버튼 레이아웃
- [x] 이벤트 기반 슬롯 위치 계산
- [x] 최소화된 채팅창 상태 관리
- [x] localStorage를 통한 상태 유지

#### 전체화면 모드 구현
- [x] 전체화면 모드 CSS 구현
- [x] 가로 스크롤바 방지
- [x] v-dialog fullscreen 속성 최적화
- [x] 반응형 전체화면 레이아웃

### 3.5 5단계: 고급 기능 및 최적화 (2일) 🔄 진행 중
#### 성능 최적화
- [x] 이벤트 기반 슬롯 위치 업데이트
- [x] 불필요한 루프 제거
- [x] 메모리 누수 방지
- [ ] 애니메이션 성능 최적화

#### 사용자 경험 개선
- [x] 최소화 버튼 컨테이너 위치 조정
- [x] 플로팅 메뉴 최소화 시 모든 채팅창 닫기
- [x] 전체화면 모드에서 가로 스크롤바 제거
- [ ] 키보드 단축키 지원

### 3.6 6단계: 테스트 및 배포 준비 (1일) ⏳ 대기
#### 테스트
- [ ] 단위 테스트 작성
- [ ] 통합 테스트 수행
- [ ] 사용자 테스트 진행
- [ ] 크로스 브라우저 테스트

#### 배포 준비
- [ ] 빌드 최적화
- [ ] 환경 변수 설정
- [ ] 배포 스크립트 작성
- [ ] 문서화 완료

## 4. 현재 개발 상태

### 4.1 완료된 주요 기능
1. **다중 채팅 서비스 시스템**
   - 4개 전문 AI 서비스 구현
   - 각각 독립적인 채팅 인터페이스
   - 고유한 색상 테마 적용

2. **최소화 시스템**
   - 4개 슬롯 기반 최소화 버튼
   - 이벤트 기반 동적 위치 계산
   - localStorage 상태 유지

3. **전체화면 모드**
   - 완전한 전체화면 지원
   - 가로 스크롤바 방지
   - 반응형 레이아웃

4. **플로팅 메뉴 시스템**
   - 우하단 플로팅 메뉴
   - 채팅 서비스 선택 기능
   - 최소화 시 모든 채팅창 닫기

### 4.2 기술적 성과
- **성능 최적화**: 루프 기반에서 이벤트 기반으로 변경
- **메모리 관리**: localStorage를 통한 상태 관리
- **반응형 디자인**: 다양한 화면 크기 지원
- **접근성**: 키보드 네비게이션 및 ARIA 지원

### 4.3 남은 작업
1. **성능 최적화**
   - 애니메이션 성능 개선
   - 메모리 사용량 최적화

2. **사용자 경험 개선**
   - 키보드 단축키 지원
   - 더 나은 에러 처리

3. **테스트 및 배포**
   - 종합 테스트 수행
   - 배포 환경 구성

## 5. 다음 단계 계획

### 5.1 즉시 진행할 작업
1. **성능 최적화 완료**
   - 애니메이션 최적화
   - 메모리 사용량 모니터링

2. **사용자 테스트**
   - 실제 사용자 피드백 수집
   - UX 개선점 식별

### 5.2 중장기 계획
1. **추가 기능 개발**
   - 음성 인식 기능
   - 파일 업로드 기능
   - 대화 내보내기 기능

2. **확장성 고려**
   - 새로운 채팅 서비스 추가 용이성
   - 다국어 지원
   - 테마 커스터마이징

## 6. 기술적 고려사항

### 6.1 성능 최적화
- Vue 3 Composition API 활용
- 반응형 데이터 최소화
- 이벤트 기반 업데이트 시스템

### 6.2 확장성
- 컴포넌트 기반 아키텍처
- 모듈화된 상태 관리
- 플러그인 방식의 기능 확장

### 6.3 유지보수성
- 명확한 코드 구조
- 상세한 주석 및 문서화
- 일관된 코딩 컨벤션

---

**최종 업데이트**: 2024년 12월 19일
**현재 진행률**: 약 85% 완료
**예상 완료일**: 2024년 12월 20일